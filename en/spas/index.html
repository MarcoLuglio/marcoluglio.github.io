<!DOCTYPE html>
<html
	xmlns='http://www.w3.org/1999/xhtml'
	lang='en-US'
	xml:lang='en-us'
	>
<head>
	<title>Single page applications</title>
	<meta charset='utf-8' />
	<link rel='stylesheet' href='../../compartilhado/css/main.css' />
	<link rel='stylesheet' href='css/home.css' />
</head>
<body>



<h1>Single page applications <span>Flutter, React, Angular, Vue, Web Assembly with C# + Blazor,  + Yew,  + Seed, Go with Vugu and Web Components with Kotlin/JS and JavaScript</span></h1>

<p>
	 has a few <a href='https://www.arewewebyet.org/topics/frameworks/#frontend'>spa frameworks</a>.
	I’m testing the two most popular ones.
</p>

<section class='indice'>

<h2 id='index'>Index</h2>
<nav id='indexList'>
</nav>

</section>



<section>

<h2 id='createaproject'>Create a project</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://flutter.dev/docs/get-started/web'># https://flutter.dev/docs/get-started/web</a></span>
<span class='keyword'>flutter</span> <span class='keyword'>create</span> spa_sample_project

<span class='keyword'>cd</span> spa_sample_project
<span class='keyword'>flutter</span> <span class='keyword'>run</span> <span class='parameter'>-d</span> chrome <span class='parameter'>--web-renderer</span> html
<span class='comment lineComment'># uses port 51068 by default</span>
<span class='comment lineComment'># canvaskit or auto can also be used as --web-renderer option</span></code
>
</div>


<div class='codeblock'>
<p>React (TypeScript) - create-react-app - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://create-react-app.dev/docs/adding-typescript'># https://create-react-app.dev/docs/adding-typescript</a></span>
<span class='comment lineComment'># this template adds TypeScript, router and Redux</span>
<span class='keyword'>npx</span> <span class='keyword'>create-react-app</span> spa-sample-project <span class='parameter'>--template</span> typescript

<span class='keyword'>cd</span> spa-sample-project
<span class='keyword'>npm</span> <span class='keyword'>install</span>
<span class='keyword'>npm</span> <span class='keyword'>start</span> <span class='comment lineComment'># uses port 3000 by default</span></code
>
</div>


<div class='codeblock'>
<p>React (JavaScript) - create-react-app - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://create-react-app.dev/docs/adding-typescript'># https://create-react-app.dev/docs/adding-typescript</a></span>
<span class='comment lineComment'># this template adds JavaScript, router and Redux</span>
<span class='keyword'>npx</span> <span class='keyword'>create-react-app</span> spa-sample-project <span class='parameter'>--template</span> redux

<span class='keyword'>cd</span> spa-sample-project
<span class='keyword'>npm</span> <span class='keyword'>install</span>
<span class='keyword'>npm</span> <span class='keyword'>start</span> <span class='comment lineComment'># uses port 3000 by default</span></code
>
</div>


<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr> - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://cli.angular.io'># https://cli.angular.io</a></span>
<span class='keyword'>npm</span> <span class='keyword'>install</span> <span class='parameter'>-g</span> @angular/cli
<span class='keyword'>ng</span> <span class='keyword'>new</span> spa-sample-project
<span class='comment lineComment'># will always use TypeScript and will ask you about router</span>
<span class='comment lineComment'># PWA support and NgRx (Redux like) must be added later</span>

<span class='keyword'>cd</span> spa-sample-project
<span class='keyword'>npm</span> <span class='keyword'>install</span>
<span class='keyword'>npm</span> <span class='keyword'>start</span> <span class='comment lineComment'># uses port 4200 by default</span></code
>
</div>


<div class='codeblock'>
<p>Vue (TypeScript) <abbr title='Command line interface'>CLI</abbr> - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://cli.vuejs.org'># https://cli.vuejs.org</a></span>
<span class='keyword'>npm</span> <span class='keyword'>install</span> <span class='parameter'>-g</span> @vue/cli @vue/cli-service-global

<span class='comment lineComment'># the command below should work for windows</span>
<span class='keyword'>vue</span> <span class='keyword'>create</span> spa-sample-project

<span class='comment lineComment'># but in my mac I had to use</span>
<span class='keyword'>env</span> CC=clang CXX=clang++ <span class='keyword'>vue</span> <span class='keyword'>create</span> spa-sample-project

<span class='comment lineComment'># then manually select features for adding TypeScript, router and Vuex (Redux like)</span>

<span class='keyword'>cd</span> create spa-sample-project
<span class='keyword'>npm</span> <span class='keyword'>install</span>
<span class='keyword'>npm</span> <span class='keyword'>run</span> serve <span class='comment lineComment'># uses port 8080 by default</span></code
>
</div>


<div class='codeblock'>
<p>Vue (JavaScript) <abbr title='Command line interface'>CLI</abbr> - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://cli.vuejs.org'># https://cli.vuejs.org</a></span>
<span class='keyword'>npm</span> <span class='keyword'>install</span> <span class='parameter'>-g</span> @vue/cli @vue/cli-service-global

<span class='comment lineComment'># the command below should work for windows</span>
<span class='keyword'>vue</span> <span class='keyword'>create</span> spa-sample-project

<span class='comment lineComment'># but in my mac I had to use</span>
<span class='keyword'>env</span> CC=clang CXX=clang++ <span class='keyword'>vue</span> <span class='keyword'>create</span> spa-sample-project

<span class='comment lineComment'># then manually select features for adding TypeScript, router and Vuex (Redux like)</span>

<span class='keyword'>cd</span> create spa-sample-project
<span class='keyword'>npm</span> <span class='keyword'>install</span>
<span class='keyword'>npm</span> <span class='keyword'>run</span> serve <span class='comment lineComment'># uses port 8080 by default</span></code
>
</div>


<div class='codeblock'>
<p>Blazor (C#) - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://docs.microsoft.com/en-us/aspnet/core/blazor/tooling?view=aspnetcore-5.0'># https://docs.microsoft.com/en-us/aspnet/core/blazor/tooling?view=aspnetcore-5.0</a></span>
<span class='comment lineComment'># usually project creation through GUI, but the command line is</span>
<span class='keyword'>dotnet</span> <span class='keyword'>new</span> blazorwasm <span class='parameter'>-o</span> SpaSampleProject <span class='comment lineComment'># notice it is blazorWASM, NOT blazorSERVER</span>
<span class='comment lineComment'># no real Redux like support for now</span>

<span class='keyword'>cd</span> SpaSampleProject
<span class='keyword'>dotnet</span> <span class='keyword'>restore</span>
<span class='keyword'>dotnet</span> <span class='keyword'>watch</span> <span class='keyword'>run</span> <span class='comment lineComment'># uses port 5001 by default</span></code
>
</div>


<div class='codeblock'>

<p>Yew (Rust) - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://yew.rs/en'># https://yew.rs/en</a></span>
<span class='keyword'>cargo</span> <span class='keyword'>install</span> wasm-pack
<span class='keyword'>cargo</span> <span class='keyword'>install</span> cargo-make
<span class='comment lineComment'># optional</span>
<span class='keyword'>cargo</span> <span class='keyword'>install</span> simple-http-server
<span class='keyword'>cargo</span> <span class='keyword'>new</span> <span class='parameter'>--lib</span> spa_sample_project
<span class='keyword'>cd</span> spa_sample_project_yew</code
>

<p>Cargo.toml</p>
<code class='toml'
>[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
<strong>yew = "0.17"</strong>
wasm-bindgen = "0.2"</code
>


<p>Makefile.toml</p>
<code class='toml'
>[tasks.build]
command = "wasm-pack"
args = ["build", "--dev", "--target", "web", "--out-name", "wasm", "--out-dir", "./static"]
watch = { ignore_pattern = "static/*" }

[tasks.serve]
command = "simple-http-server"
args = ["-i", "./static/", "-p", "3000", "--nocache", "--try-file", "./static/index.html"]</code
>

<p>terminal (sh like)</p>
<code class='shell'
><span class='keyword'>cargo</span> <span class='keyword'>make</span> <span class='keyword'>build</span></code
>

</div>


<div class='codeblock'>

<p>Seed (Rust) - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://seed-rs.org'># https://seed-rs.org</a></span>
<span class='keyword'>cargo</span> <span class='keyword'>install</span> wasm-pack
<span class='keyword'>cargo</span> <span class='keyword'>install</span> cargo-make
<span class='comment lineComment'># optional</span>
<span class='keyword'>cargo</span> <span class='keyword'>install</span> simple-http-server
<span class='keyword'>cargo</span> <span class='keyword'>new</span> <span class='parameter'>--lib</span> spa_sample_project
<span class='keyword'>cd</span> spa_sample_project_seed</code
>

<p>Cargo.toml</p>
<code class='toml'
>[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
<strong>seed = "0.8.0"</strong>
wasm-bindgen = "0.2"</code
>


<p>Makefile.toml</p>
<code class='toml'
>[tasks.build]
command = "wasm-pack"
args = ["build", "--dev", "--target", "web", "--out-name", "wasm", "--out-dir", "./static"]
watch = { ignore_pattern = "static/*" }

[tasks.serve]
command = "simple-http-server"
args = ["-i", "./static/", "-p", "3000", "--nocache", "--try-file", "./static/index.html"]</code
>

<p>terminal (sh like)</p>
<code class='shell'
><span class='keyword'>cargo</span> <span class='keyword'>make</span> <span class='keyword'>build</span></code
>

</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://www.vugu.org/doc/start'># https://www.vugu.org/doc/start</a></span></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
><span class='comment lineComment'><a href='https://kotlinlang.org/docs/js-project-setup.html'># https://kotlinlang.org/docs/js-project-setup.html</a></span></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	React, Angular, Vue and Blazor create git local repositories as part of their starting templates without asking you.
	<br />At the time of this writing, I'm using Node.js 15 (15.9.0 specifically) which is not <abbr title='long term support'>LTS</abbr>.
	<br />The <code>redux-typescript</code> react template failed to install due to the TypeScript version being incompatible and I had to fallback to the original <code>typescript</code> template and manually configure Redux.
	For this Node.js version, Angular <abbr title='command line interface'>CLI</abbr> complained about npm 7, and asked me to downgrade to npm 6.
	<br />Vue 3 is still in beta.
	<br />Vugu is still experimental
	<br />And obviously Rust Yew and Seed are still a long way to go when it comes to project templates.
	<br />KotlinJS and raw web components don’t really have a starting template.
	They are not frameworks or libraries per se, but make use of browser APIs.
</p>

<p>
	The size of these projects is what always turned me down.
	They’re massive with a <strong>huge amount of files</strong>.
</p>

<table>
	<thead>
		<tr>
			<th></th>
			<th scope='col'>source + libraries</th>
			<th scope='col'>compiled</th>
			<th scope='col'>initial page load</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th scope='row'>Flutter 2 (Dart)</th>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th scope='row'>React 17.0.1 (TypeScript)</th>
			<td>219.1MB+</td>
			<td></td>
			<td>1.65MB+</td>
		</tr>
		<tr>
			<th scope='row'>React 17.0.1 (JavaScript)</th>
			<td>237.9MB</td>
			<td></td>
			<td>1.94MB</td>
		</tr>
		<tr>
			<th scope='row'>Angular 11.2.1 (TypeScript)</th>
			<td>448.2MB</td>
			<td></td>
			<td>2.88MB</td>
		</tr>

		<tr>
			<th scope='row'>Vue 3.0.0 (TypeScript)</th>
			<td>493.2MB</td>
			<td></td>
			<td>2.80MB</td>
		</tr>
		<tr>
			<th scope='row'>Vue 3.0.0 (JavaScript)</th>
			<td>120.1MB</td>
			<td></td>
			<td>2.33MB</td>
		</tr>
		<tr>
			<th scope='row'>Blazor (C#)</th>
			<td>48.6MB</td>
			<td></td>
			<td>0.52MB</td>
		</tr>
		<tr>
			<th scope='row'>Yew (Rust)</th>
			<td>633.2MB</td>
			<td></td>
			<td>0.22MB</td>
		</tr>
		<tr>
			<th scope='row'>Seed (Rust)</th>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th scope='row'>Vugu (Go)</th>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th scope='row'>Kotlin/JS</th>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th scope='row'>Web components</th>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</tbody>
	<tfoot>
		<tr>
			<td colspan='('></td>
		</tr>
	</tfoot>
</table>

</section>



<section>

<h2 id='installdependencies'>Install remaining dependencies</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
	<p>React (TypeScript)</p>
	<code class='shell'
	><span class='comment lineComment'><a href='https://reactrouter.com/web/guides/quick-start'># https://reactrouter.com/web/guides/quick-start</a></span>
	<span class='keyword'>npm</span> <span class='keyword'>install</span> react-router-dom</code
	>
</div>


<div class='codeblock'>
	<p>React (JavaScript)</p>
	<code class='shell'
	><span class='comment lineComment'><a href='https://reactrouter.com/web/guides/quick-start'># https://reactrouter.com/web/guides/quick-start</a></span>
	<span class='keyword'>npm</span> <span class='keyword'>install</span> react-router-dom</code
	>
</div>


<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr> - terminal (sh like)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://angular.io/cli/add'># https://angular.io/cli/add</a></span>

<span class='comment lineComment'><a href='https://angular.io/guide/service-worker-getting-started'># https://angular.io/guide/service-worker-getting-started</a></span>
<span class='keyword'>ng</span> <span class='keyword'>add</span> @angular/pwa

<span class='comment lineComment'><a href='https://ngrx.io/guide/store/install'># https://ngrx.io/guide/store/install</a></span>
<span class='keyword'>ng</span> <span class='keyword'>add</span> @ngrx/store@latest <span class='parameter'>--minimal</span> false</code
>
</div>


<div class='codeblock'>
<p>Vue (TypeScript)</p>
-
</div>


<div class='codeblock'>
<p>Vue (JavaScript)</p>
-
</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
-
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>

</div>

<p>
	Redux + TypeScript template for React will probably get fixed eventually.
	<br />Nevertheless, it is interesting to know that Redux is not providing TypeScript support at the same level as JavaScript.
	<br />Not sure why Angular doesn’t provide <abbr title='Progressive Web App'>PWA</abbr> support out of the box.
</p>

</section>



<section>

<h2 id='createamoduleroute'>Create a module and route</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart) - main.dart</p>
<code class='dart'
>import 'package:flutter/material.dart';

<strong>// lazy loading using the import deferred as keywords</strong>
<strong class='small'>import</strong> 'Languages.dart' <strong class='small'>deferred as</strong> LanguagesLoader;

void main() {
	runApp(App());
}

class App extends StatelessWidget {

	@override
	Widget build(BuildContext context) {

		return MaterialApp(

			title: 'SpaSampleFlutter',

			theme: ThemeData(
				primarySwatch: Colors.blue,
			),

			<strong>routes: &lt;String, WidgetBuilder&gt;{</strong>

				home: Text('Home'),

				<strong>/*</strong>
				<strong class='comment'><span class='comment blockComment'>Here we map the path to a component which we will create later</span></strong>
				<strong class='comment'><span class='comment blockComment'>FutureBuilder is used to display lazy loaded content</span></strong>
				<strong class='comment'><span class='comment blockComment'>Also notice how simple it is to provide alternate content</span></strong>
				<strong class='comment'><span class='comment blockComment'>while a module is loading</span></strong>
				<strong class='comment'><span class='comment blockComment'>*/</span></strong>
				<strong>'/languages':</strong> (BuildContext context) => <strong>FutureBuilder(</strong>
					<strong>future: LanguagesLoader.loadLibrary(),</strong>
					builder: (context, snapshot) {
						<strong>if (snapshot.connectionState == ConnectionState.done) {</strong>
							<strong>return LanguagesLoader.Languages();</strong>
						<strong>} else {</strong>
							<strong>return Text('Loading...');</strong>
						<strong>}</strong>
					},
				<strong>)</strong>

			<strong>}</strong>

			/*
			onGenerateRoute: (settings) {

				// Handle '/'
				if (settings.name == '/') {
				  return MaterialPageRoute(builder: (context) => HomeScreen());
				}

				// Handle '/details/:id'
				var uri = Uri.parse(settings.name);
				if (uri.pathSegments.length == 2 && uri.pathSegments.first == 'details') {
					var id = uri.pathSegments[1];
					return MaterialPageRoute(builder: (context) => DetailScreen(id: id));
				}

				return MaterialPageRoute(builder: (context) => UnknownScreen());

			}
			*/

		);

	}

}</code
>
</div>


<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>

<p>React (JavaScript)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://reactjs.org/docs/code-splitting.html'># https://reactjs.org/docs/code-splitting.html</a></span>
<span class='keyword'>cd</span> src/features
<span class='keyword'>mkdir</span> languages
<span class='keyword'>touch</span> ./languages/Languages.jsx</code
>

<p>index.jsx</p>
<code class='javascript'
>import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import store from './app/store';
import { Provider } from 'react-redux';

<strong>import { BrowserRouter as Router, Route } from 'react-router-dom';</strong>

ReactDOM.render(
	&lt;React.StrictMode&gt;
	&lt;Provider store={store}&gt;
	<strong>&lt;Router&gt;</strong>
	<strong>&lt;Route path='/'&gt;</strong>
	&lt;App /&gt;
	<strong>&lt;/Route&gt;</strong>
	<strong>&lt;/Router&gt;</strong>
	&lt;/Provider&gt;
	&lt;/React.StrictMode&gt;,
	document.getElementById('root')
);</code
>

<p>App.jsx</p>
<code class='javascript'
><strong>// lazy loading using the lazy(import()) async functions</strong>
import React, { lazy, Suspense } from 'react';
import { Switch, Route, Link } from 'react-router-dom';

const Languages = <strong>lazy(</strong>() => <strong>import(</strong>'./features/languages/Languages'<strong>));</strong>

function App() {
	return (
		&lt;&gt;
			{<strong>/*</strong>
			<strong class='comment'><span class='comment blockComment'>routes are declarative</span></strong>
			<strong class='comment'><span class='comment blockComment'>also notice how simple it is to provide alternate content</span></strong>
			<strong class='comment'><span class='comment blockComment'>while a module is loading</span></strong>
			<strong class='comment'><span class='comment blockComment'>*/</span></strong>}
			<strong>&lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</strong>
			<strong>&lt;Switch&gt;</strong>
			<strong class='small'>&lt;Route path={'/languages'}&gt;</strong>
			{<strong>/* here we add a component for this route, which we will create later */</strong>}
			<strong class='small'>&lt;Languages /&gt;</strong>
			<strong>&lt;/Route&gt;</strong>
			<strong>&lt;/Switch&gt;</strong>
			<strong>&lt;/Suspense&gt;</strong>
		&lt;/&gt;
	)
}

export default App;</code
>
</div>


<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
><span class='comment lineComment'><a href='https://angular.io/guide/lazy-loading-ngmodules'># https://angular.io/guide/lazy-loading-ngmodules</a></span>
<span class='comment lineComment'># this will create a languages.module.ts where we can declare our components</span>
<span class='comment lineComment'># and add an entry for the module in the routes table</span>

<span class='keyword'>ng</span> <span class='keyword'>generate</span> <span class='keyword'>module</span> languages <span class='parameter'>--route</span> languages <span class='parameter'>--module</span> app.module</code
>

<p>app-routing.module.ts</p>
<code class='javascript'
><strong>// this will be added automatically</strong>
const routes:Routes = [{
	<strong>// here we map the path to a module</strong>
	<strong class='small'>path: 'languages',</strong>
	<strong>// lazy loading using the import().then() async function</strong>
	loadChildren: () => <strong class='small'>import(</strong>'./languages/languages.module'<strong>)</strong>
		<strong>.then(</strong>m => m.LanguagesModule<strong>)</strong>
}];</code
>

<p>languages-routing.module.ts</p>
<code class='javascript'
><strong>// this will be created automatically</strong>
import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';
import { LanguagesComponent } from './languages.component';

const routes: Routes = [
	<strong>// and here we map the path to a component which we will create later</strong>
	<strong class='small'>{ path: '', component: LanguagesComponent }</strong>
];

@NgModule({
	imports: [RouterModule.forChild(routes)],
	exports: [RouterModule]
})
export class LanguagesRoutingModule { }</code
>
</div>


<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>

<p>Vue (JavaScript)</p>
<code class='shell'
><span class='comment lineComment'><a href='https://router.vuejs.org/guide/advanced/lazy-loading.html'># https://router.vuejs.org/guide/advanced/lazy-loading.html</a></span>
<span class='keyword'>mkdir</span> ./src/languages
<span class='keyword'>mkdir</span> ./src/languages/components
<span class='keyword'>touch</span> ./src/languages/components/Languages.vue</code
>

<p>router/index.js</p>
<code class='javascript'
>import { createRouter, createWebHistory } from 'vue-router'

const routes = [
	{
		<strong>// here we map the path to a component which we will create later</strong>
		<strong class='small'>path: '/languages',</strong>
		name: 'Languages',
		<strong>// lazy loading using the import() async function</strong>
		component: () => <strong class='small'>import(</strong>
			/* webpackChunkName: "languages" */
			'../languages/components/Languages.vue'
		<strong>)</strong>
	}
]

const router = createRouter({
	history: createWebHistory(process.env.BASE_URL),
	routes
})

export default router</code
>

</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='cs'
>// <a href='https://docs.microsoft.com/en-us/aspnet/core/blazor/webassembly-lazy-load-assemblies?view=aspnetcore-5.0'>https://docs.microsoft.com/en-us/aspnet/core/blazor/webassembly-lazy-load-assemblies?view=aspnetcore-5.0</a></span>
// add a new project to your solution of the type “Razor Class Library”
// and make sure that “Support pages and views” is UNselcted
//</code
>
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	A
</p>

</section>



<section>

<h2 id='createaservice'>Create a service</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>

<p>React (TypeScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/features/languages
<span class='keyword'>mkdir</span> entities
<span class='keyword'>mkdir</span> services
<span class='keyword'>touch</span> ./entities/TimelineEntryEntity.ts
<span class='keyword'>touch</span> ./services/TimelineSorterServices.ts</code
>

<p>TimelineEntryEntity.ts</p>
<code class='javascript'
>export default class TimelineEntryEntity {

	constructor(name:string = '', year:number = 0) {
		this.name = name;
		this.year = year;
	}

	name:string = '';
	year:number = 0;

}</code
>

<p>TimelineSorterServices.ts</p>
<code class='javascript'
>import TimelineEntryEntity from '../entities/TimelineEntryEntity';







export default class TimelineSorterService {

	constructor() {
		//
	}

	numberSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {
		return a.year - b.year;
	}

	stringSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {

		const nameA = a.name.toUpperCase();
		const nameB = b.name.toUpperCase();
		if (nameA &lt; nameB) {
			return -1;
		}
		if (nameA &gt; nameB) {
			return 1;
		}

		return 0;

	}

}</code
>

</div>


<div class='codeblock'>

<p>React (JavaScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/languages
<span class='keyword'>mkdir</span> services
<span class='keyword'>touch</span> ./services/TimelineSorterServices.js


















</code
>

<p>TimelineSorterServices.js</p>
<code class='javascript'
>













export function numberSorterService(a, b) {
	return a.year - b.year;
}

export function stringSorterService(a, b) {

	const nameA = a.name.toUpperCase();
	const nameB = b.name.toUpperCase();
	if (nameA &lt; nameB) {
		return -1;
	}
	if (nameA &gt; nameB) {
		return 1;
	}

	return 0;

}</code
>

</div>


<div class='codeblock'>

<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
><span class='comment lineComment'><a href='https://angular.io/cli/generate'># https://angular.io/cli/generate</a></span>
<span class='keyword'>ng</span> <span class='keyword'>generate</span> <span class='keyword'>class</span> languages/entities/timelineEntry <span class='parameter'>--type</span> entity
<span class='keyword'>ng</span> <span class='keyword'>generate</span> <span class='keyword'>service</span> languages/services/timelineSorter


</code
>

<p>timeline-entry.entity.ts</p>
<code class='javascript'
>export default class TimelineEntryEntity {

	constructor(name:string = '', year:number = 0) {
		this.name = name;
		this.year = year;
	}

	name:string = '';
	year:number = 0;

}
</code
>

<p>timeline-sorter.service.ts</p>
<code class='javascript'
>import { Injectable } from '@angular/core';
import TimelineEntryEntity from '../entities/timeline-entry.entity';

// requires a class decorated with @Injectable
// to use dependency injection
@Injectable({
	providedIn: 'root'
})
export default class TimelineSorterService {

	constructor() {
		//
	}

	numberSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {
		return a.year - b.year;
	}

	stringSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {

		const nameA = a.name.toUpperCase();
		const nameB = b.name.toUpperCase();
		if (nameA &lt; nameB) {
			return -1;
		}
		if (nameA &gt; nameB) {
			return 1;
		}

		return 0;

	}

}</code
>

</div>


<div class='codeblock'>

<p>Vue (TypeScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/languages
<span class='keyword'>mkdir</span> entities
<span class='keyword'>mkdir</span> services
<span class='keyword'>touch</span> ./entities/TimelineEntryEntity.ts
<span class='keyword'>touch</span> ./services/TimelineSorterServices.ts</code
>

<p>TimelineEntryEntity.ts</p>
<code class='javascript'
>export default class TimelineEntryEntity {

	constructor(name:string = '', year:number = 0) {
		this.name = name;
		this.year = year;
	}

	name:string = '';
	year:number = 0;

}</code
>

<p>TimelineSorterServices.ts</p>
<code class='javascript'
>import TimelineEntryEntity from '../entities/TimelineEntryEntity';







export default class TimelineSorterService {

	constructor() {
		//
	}

	numberSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {
		return a.year - b.year;
	}

	stringSorter(a:TimelineEntryEntity, b:TimelineEntryEntity):number {

		const nameA = a.name.toUpperCase();
		const nameB = b.name.toUpperCase();
		if (nameA &lt; nameB) {
			return -1;
		}
		if (nameA &gt; nameB) {
			return 1;
		}

		return 0;

	}

}</code
>

</div>

<div class='codeblock'>

<p>Vue (JavaScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/languages
<span class='keyword'>mkdir</span> services
<span class='keyword'>touch</span> ./services/TimelineSorterServices.js


















</code
>

<p>TimelineSorterServices.js</p>
<code class='javascript'
>













export function numberSorterService(a, b) {
	return a.year - b.year;
}

export function stringSorterService(a, b) {

	const nameA = a.name.toUpperCase();
	const nameB = b.name.toUpperCase();
	if (nameA &lt; nameB) {
		return -1;
	}
	if (nameA &gt; nameB) {
		return 1;
	}

	return 0;

}</code
>

</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	A
</p>

</section>



<section>

<h2 id='createacomponent'>Create a component</h2>

<div class='comparison'>

<div class='codeblock'>

<p>Flutter (Dart)</p>
<code class='shell'
></code
>

<p>timeline.dart</p>
<code class='dart'
>import 'package:flutter/material.dart';
import 'package:spa_sample_flutter/SortBy.dart';
import 'package:spa_sample_flutter/entities/TimelineEntryEntity.dart';

// widgets that change their content must inherit from StatefulWidget
class Timeline extends StatefulWidget {

	// component attributes are passed in the constructor
	Timeline({Key key, this.title, @required this.entries, this.sortBy}) : super(key: key);

	final String title;

	final List&lt;TimelineEntryEntity&gt; entries;

	final SortBy sortBy;

	@override
	_TimelineState createState() => _TimelineState();

}

class _TimelineState extends State<Timeline> {

	List&lt;TimelineEntryEntity&gt; _sortedEntries;

	void sort() {

		var sortedEntries = this.widget.entries;

		// setState triggers a rebuild
		setState(() {
			_sortedEntries = sortedEntries;
		});

	}

	// view is built with dart language syntax
	@override
	Widget build(BuildContext context) {
		return ListView.builder(
			padding: const EdgeInsets.all(8),
			itemCount: this._sortedEntries.length,
			itemBuilder: (BuildContext context, int index) {
				var entry = this._sortedEntries[index];
				return TextButton(
					/*style: TextButton.styleFrom(
						textStyle: const TextStyle(fontSize: 20),
					),*/
					onPressed: () {
						Navigator.pushNamed(context, 'languages/${entry.name}')
						// arguments: ScreenArguments(entry.name)
					},
					child: const Text('${entry.name} - ${entry.year}')
				),
			}
		);
	}

}</code
>

</div>


<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>

<p>React (JavaScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/features/languages
<span class='keyword'>mkdir</span> components
<span class='keyword'>touch</span> ./components/Timeline.jsx</code
>

<p>Timeline.jsx</p>
<code class='javascript'
>import { numberSorterService, stringSorterService } from '../services/TimelineSorterServices';












// component markup attributes are passed in the props parameter
// The class name is the markup tag name
export default function Timeline(props) {

	let title = 'Timeline';


	let _entries = [];

	let sortBy = 'year';

	function setEntries(entries) {

		let sortedEntries = [];

		switch (sortBy) {
			case 'name':
				sortedEntries = entries.sort(stringSorterService);
				break;
			case 'year':
				sortedEntries = entries.sort(numberSorterService);
				break;
			default:
				sortedEntries = entries;
				break;
		}

		_entries = sortedEntries;

	}

	setEntries(props.entries);

	// React uses a file type called JSX, that mixes JavaScript/TypeScript with markup
	// It is not the same as HTML and we can interpolate scripts in the markup inside {}
	// so comments for instance, must be added with {/*  */} instead of &lt;!-- --&gt;

	// &lt;&gt; is a shortcut for &lt;React.Fragment&gt; <a href='https://reactjs.org/docs/fragments.html'>https://reactjs.org/docs/fragments.html</a>
	// It is a container tag that will not generate any html tag in the final rendering
	// JSX requires you to return only a sinqle node from a component function, so these
	// will come in handy
	return (
		&lt;&gt;
			{/* Binding in JSX is done with the sintax {variable} */}
			&lt;h2&gt;{title}&lt;/h2&gt;
			{/*
			Adding or removing elements is done by mixing JavaScript with markup
			<a href='https://reactjs.org/docs/conditional-rendering.html'>https://reactjs.org/docs/conditional-rendering.html</a>
			<a href='https://reactjs.org/docs/lists-and-keys.html'>https://reactjs.org/docs/lists-and-keys.html</a>
			*/}
			{ _entries.length &gt; 0 &&
				&lt;ul&gt;
					{ _entries.map((entry) =&gt;
						&lt;li key={entry.name}&gt;{/* Each item in a loop must have an unique key */}
							{/* Link is used for internal links */}
							&lt;Link to={`languages/${entry.name}`}&gt;{entry.name} - {entry.year}&lt;/Link&gt;
						&lt;/li&gt;
					)}
				&lt;/ul&gt;
			}
		&lt;/&gt;
	);

}</code
>

</div>


<div class='codeblock'>

<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
><span class='comment lineComment'><a href='https://angular.io/cli/generate'># https://angular.io/cli/generate</a></span>
<span class='keyword'>ng</span> <span class='keyword'>generate</span> <span class='keyword'>component</span> timeline <span class='parameter'>--module</span> languages</code
>

<p>timeline.component.ts</p>
<code class='javascript'
>import { Component, Input, OnInit } from '@angular/core';
import TimelineEntryEntity from '../../entities/timeline-entry.entity';
import TimelineSorterService from '../../services/timeline-sorter.service';

// components classes must be decorated with @Component
// provide a markup tag name that uses this class
// and separated files for template and style
// or inline strings equivalents
// template: '<div>...</div>' and styles: ['div {...}', 'p {...}']
@Component({
	selector: 'timeline',
	templateUrl: './timeline.component.html',
	styleUrls: ['./timeline.component.scss']
})
export class TimelineComponent implements OnInit {

	// component markup attributes must be decorated with @Input
	@Input() title:string = 'Timeline';

	// for getter and setters, only one of the pair is decorated
	@Input()
	get entries():Array&lt;TimelineEntryEntity&gt; { return this._entries; }

	set entries(entries:Array&lt;TimelineEntryEntity&gt;) {

		let sortedEntries:Array&lt;TimelineEntryEntity&gt; = [];

		switch (this.sortBy) {
			case 'name':
				sortedEntries = entries.sort(this.timelineSorterService.stringSorter);
				break;
			case 'year':
				sortedEntries = entries.sort(this.timelineSorterService.numberSorter);
				break;
			default:
				sortedEntries = entries;
				break;
		}

		this._entries = sortedEntries;

	}

	@Input() sortBy:string = 'year';

	private _entries:Array&lt;TimelineEntryEntity&gt; = []

	constructor(
		// while this is a TypeScript shortcut to define a inputProperty
		// Angular highjacked it for dependency injection
		private timelineSorterService:TimelineSorterService
		) {

	}

	// ngOnInit is part of the OnInit interface, for components lifecycle events
	ngOnInit(): void {
	}

}</code
>

<p>timeline.component.html</p>
<code class='html'
>&lt;!--
&lt;ng-container&gt; is a container tag that will not generate
any html tag in the final rendering
--&gt;
&lt;ng-container&gt;
	&lt;!--
	Angular has three differet binding syntaxes
	{{inputProperty}} is for binding @Input properties inside text nodes
	[inputProperty] is for binding @Input properties in attributes
	and (observable) is for binding @Output events also in attributes
	--&gt;
	&lt;h2&gt;{{ title }}&lt;/h2&gt;
	&lt;!--
	*ng... are structural directives, they may change the DOM tree,
	adding or removing elements. Structural directives always begin
	with * and have additional options
	<a href='https://angular.io/api/common/NgIf'>https://angular.io/api/common/NgIf</a>
	<a href='https://angular.io/api/common/NgForOf'>https://angular.io/api/common/NgForOf</a>
	--&gt;
	&lt;ul *ngIf='entries'&gt;
		&lt;li *ngFor='let entry of entries'&gt;
			&lt;!-- routerLink is used for internal links --&gt;
			&lt;a [routerLink]='entry.name'&gt;
				{{ entry.name }} - {{ entry.year }}
			&lt;/a&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/ng-container&gt;</code
>
</div>


<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='javascript'
>// <a href='https://class-component.vuejs.org/'>follow progress on class based components</a>
// right now the documentation seems out of date
// and fragmented</code
>
</div>


<div class='codeblock'>
<p>Vue (JavaScript)</p>
<code class='shell'
><span class='keyword'>cd</span> src/languages
<span class='keyword'>touch</span> ./languages/Timeline.vue
<span class='keyword'>touch</span> ./languages/Timeline.js</code
>

<p>Timeline.js</p>
<code class='javascript'
>import { stringSorterService, numberSorterService } from '../services/TimelineSorterServices'

// https://v3.vuejs.org/guide/single-file-component.html
// to use a proper class, a TypeScript project is required
export default {

	name: 'Timeline',
	// inheritAttrs: false,

	props: {
		title: {
			required: false,
			type: String,
			default: 'Timeline'
		},
		entries: Array,
		sortBy: {
			required: false,
			type: String,
			default: 'year'
		}
	},

	computed: {

		sortedEntries: {

			get() {

				// creating a setter for this setter throws an error!
				// So the sorting logic needs to be called on the getter 🤮

				let sortedEntriesTemp = [];

				switch (this.sortBy) {
					case 'name':
						sortedEntriesTemp = this.entries.sort(stringSorterService);
						break;
					case 'year':
						sortedEntriesTemp = this.entries.sort(numberSorterService);
						break;
					default:
						sortedEntriesTemp = this.entries;
						break;
				}

				return sortedEntriesTemp;

			}

		}

	},

	methods: {

		hasEntries() {
			return this.entries;
		}

	}

}</code
>

<p>Timeline.vue</p>
<code class='html'
>&lt;!-- &lt;template&gt; is a container tag for the markup --&gt;
&lt;template&gt;
	&lt;!--
	Vue has three differet binding syntaxes
	{{property}} is for binding properties inside text nodes
	:property is for binding properties in attributes
	and @event is for binding events also in attributes
	There are longer alternate syntaxes, but why would you
	want to use them?
	--&gt;
	&lt;h2&gt;{{ title }}&lt;/h2&gt;
	&lt;!--
	Adding or removing elements is done with directives
	such as v-if and v-for.
	<a href='https://v3.vuejs.org/guide/conditional.html'>https://v3.vuejs.org/guide/conditional.html</a>
	<a href='https://v3.vuejs.org/guide/list.html'>https://v3.vuejs.org/guide/list.html</a>
	--&gt;
	&lt;ul v-if='hasEntries()'&gt;
		&lt;!--
		we need to use a separate getter 'sortedEntries'
		for the sorting to work
		--&gt;
		&lt;li v-for='entry in sortedEntries' :key='entry.name'&gt;
			&lt;!-- router-link is used for internal links --&gt;
			&lt;router-link :to='entry.name'&gt;
				{{ entry.name }} - {{ entry.year }}
			&lt;/router-link&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/template&gt;

&lt;!--
Vue documentation usually puts everything in a single file
But at least they did not forbid us from separating them
like this
--&gt;
&lt;script src='./Timeline.js'&gt;&lt;/script&gt;</code
>

</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	A
</p>

</section>



<section>

<h2 id='useacomponent'>Use a component</h2>

<div class='comparison'>

<div class='codeblock'>

<p>Flutter (Dart)</p>
<code class='shell'
></code
>

<p>Languages.dart</p>
<code class='dart'
>import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:spa_sample_flutter/SortBy.dart';
import 'package:spa_sample_flutter/Timeline.dart';
import 'package:spa_sample_flutter/entities/TimelineEntryEntity.dart';
// import 'Timeline.dart';

class Languages extends StatelessWidget {

	Languages({Key key, this.timelineTitle}) : super(key: key);

	final String timelineTitle;

	final List&lt;TimelineEntryEntity&gt; timelineEntries = [
		// new keyword is optional
		new TimelineEntryEntity(name: 'Fortran', year: 1957),
		new TimelineEntryEntity(name: 'Lisp', year: 1958),
		new TimelineEntryEntity(name: 'Algol', year: 1958),
		new TimelineEntryEntity(name: 'Cobol', year: 1959),
		new TimelineEntryEntity(name: 'Simula', year: 1962),
		new TimelineEntryEntity(name: 'Basic', year: 1964),
		new TimelineEntryEntity(name: 'Pascal', year: 1970),
		new TimelineEntryEntity(name: 'C', year: 1972),
		new TimelineEntryEntity(name: 'Smalltalk 72', year: 1972),
		new TimelineEntryEntity(name: 'Ada', year: 1980),
		new TimelineEntryEntity(name: 'Smalltalk 80', year: 1980),
		new TimelineEntryEntity(name: 'Objective-C', year: 1984),
		new TimelineEntryEntity(name: 'C++', year: 1985),
		new TimelineEntryEntity(name: 'Object Pascal', year: 1986),
		new TimelineEntryEntity(name: 'Erlang', year: 1986),
		new TimelineEntryEntity(name: 'Python', year: 1990),
		new TimelineEntryEntity(name: 'Haskell', year: 1990),
		new TimelineEntryEntity(name: 'Java', year: 1995),
		new TimelineEntryEntity(name: 'JavaScript', year: 1995),
		new TimelineEntryEntity(name: 'Php', year: 1995),
		new TimelineEntryEntity(name: 'Ruby', year: 1995),
		new TimelineEntryEntity(name: 'ActionScript', year: 1998),
		new TimelineEntryEntity(name: 'Visual Basic 6', year: 1998),
		new TimelineEntryEntity(name: 'C#', year: 2000),
		new TimelineEntryEntity(name: 'F#', year: 2005),
		new TimelineEntryEntity(name: 'Go', year: 2009),
		new TimelineEntryEntity(name: 'Rust', year: 2010),
		new TimelineEntryEntity(name: 'Kotlin', year: 2011),
		new TimelineEntryEntity(name: 'Dart', year: 2011),
		new TimelineEntryEntity(name: 'TypeScript', year: 2012),
		new TimelineEntryEntity(name: 'Swift', year: 2014)
	];

	@override
	Widget build(BuildContext context) {

		SystemChrome.setApplicationSwitcherDescription(
			ApplicationSwitcherDescription(
				label: timelineTitle,
				primaryColor: Theme.of(context).primaryColor.value,
			)
		);

		return Scaffold(
			body: Timeline(
			title: 'Programming languages',
			entries: this.timelineEntries,
			sortBy: SortBy.name,
		));
	}

}</code
>


</div>


<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>React (JavaScript) - languages.jsx</p>
<code class='javascript'
>import React, { useEffect } from 'react';

// import the component
import Timeline from './components/Timeline';

export default function Languages() {

	let timelineTitle = 'Programming languages';

	let timelineEntries = [
		{ name: 'Fortran', year: 1957 },
		{ name: 'Lisp', year: 1958 },
		{ name: 'Algol', year: 1958 },
		{ name: 'Cobol', year: 1959 },
		{ name: 'Simula', year: 1962 },
		{ name: 'Basic', year: 1964 },
		{ name: 'Pascal', year: 1970 },
		{ name: 'C', year: 1972 },
		{ name: 'Smalltalk 72', year: 1972 },
		{ name: 'Ada', year: 1980 },
		{ name: 'Smalltalk 80', year: 1980 },
		{ name: 'Objective-C', year: 1984 },
		{ name: 'C++', year: 1985 },
		{ name: 'Object Pascal', year: 1986 },
		{ name: 'Erlang', year: 1986 },
		{ name: 'Python', year: 1990 },
		{ name: 'Haskell', year: 1990 },
		{ name: 'Java', year: 1995 },
		{ name: 'JavaScript', year: 1995 },
		{ name: 'Php', year: 1995 },
		{ name: 'Ruby', year: 1995 },
		{ name: 'ActionScript', year: 1998 },
		{ name: 'Visual Basic 6', year: 1998 },
		{ name: 'C#', year: 2000 },
		{ name: 'F#', year: 2005 },
		{ name: 'Go', year: 2009 },
		{ name: 'Rust', year: 2010 },
		{ name: 'Kotlin', year: 2011 },
		{ name: 'Dart', year: 2011 },
		{ name: 'TypeScript', year: 2012 },
		{ name: 'Swift', year: 2014 }
	];

	// component rendering side effects use the useEffect() function
	// it cannot be placed inside an if (must always be called),
	// but you can still put the if inside the callback if you need to
	useEffect(() =&gt; {
		document.title = 'Languages';
	});

	// use the tag according to the class name
	return (
		&lt;Timeline
			title={timelineTitle}
			entries={timelineEntries}
			sortBy='name'
			&gt;&lt;/Timeline
		&gt;
	);

}</code
>
</div>


<div class='codeblock'>

<p>Angular - languages.component.ts</p>
<code class='javascript'
>import { Component, OnInit } from '@angular/core';
import { Title } from '@angular/platform-browser';
import TimelineEntryEntity from '../entities/timeline-entry.entity';

@Component({
	selector: 'app-languages',
	templateUrl: './languages.component.html',
	styleUrls: ['./languages.component.scss']
})
export class LanguagesComponent implements OnInit {

	timelineTitle:string = 'Programming languages';

	timelineEntries:Array&lt;TimelineEntryEntity&gt; = [
		new TimelineEntryEntity('Fortran', 1957),
		new TimelineEntryEntity('Lisp', 1958),
		new TimelineEntryEntity('Algol', 1958),
		new TimelineEntryEntity('Cobol', 1959),
		new TimelineEntryEntity('Simula', 1962),
		new TimelineEntryEntity('Basic', 1964),
		new TimelineEntryEntity('Pascal', 1970),
		new TimelineEntryEntity('C', 1972),
		new TimelineEntryEntity('Smalltalk 72', 1972),
		new TimelineEntryEntity('Ada', 1980),
		new TimelineEntryEntity('Smalltalk 80', 1980),
		new TimelineEntryEntity('Objective-C', 1984),
		new TimelineEntryEntity('C++', 1985),
		new TimelineEntryEntity('Object Pascal', 1986),
		new TimelineEntryEntity('Erlang', 1986),
		new TimelineEntryEntity('Python', 1990),
		new TimelineEntryEntity('Haskell', 1990),
		new TimelineEntryEntity('Java', 1995),
		new TimelineEntryEntity('JavaScript', 1995),
		new TimelineEntryEntity('Php', 1995),
		new TimelineEntryEntity('Ruby', 1995),
		new TimelineEntryEntity('ActionScript', 1998),
		new TimelineEntryEntity('Visual Basic 6', 1998),
		new TimelineEntryEntity('C#', 2000),
		new TimelineEntryEntity('F#', 2005),
		new TimelineEntryEntity('Go', 2009),
		new TimelineEntryEntity('Rust', 2010),
		new TimelineEntryEntity('Kotlin', 2011),
		new TimelineEntryEntity('Dart', 2011),
		new TimelineEntryEntity('TypeScript', 2012),
		new TimelineEntryEntity('Swift', 2014)
	];

	constructor(private titleService: Title) {
	}

	ngOnInit(): void {
		// Angular has a dedicated service for changing the browser title
		// allegedly to prevent issues if running angular as a native app
		// for instance
		this.titleService.setTitle('Languages');
	}

}</code
>

<p>languages.component.html</p>
<code class='html'
>&lt;!-- use the tag without the “app-” prefix --&gt;
&lt;timeline
	[title]='timelineTitle'
	[entries]='timelineEntries'
	sortBy='name'
	&gt;&lt;/timeline
&gt;</code
>

<p>languages.module.ts</p>
<code class='javascript'
><strong>// this will be created automatically</strong>
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

import { LanguagesRoutingModule } from './languages-routing.module';

<strong>// this will be added automatically</strong>
<strong>// import components</strong>
<strong class='small'>import { LanguagesComponent } from './components/languages.component';</strong>
<strong>import { TimelineComponent } from './components/timeline/timeline.component';</strong>

<strong>// this will be added automatically</strong>
<strong>// declare components in the module scope</strong>
@NgModule({
	<strong>declarations: [</strong>
		<strong>LanguagesComponent,</strong>
		<strong>TimelineComponent</strong>
	<strong>],</strong>
	imports: [
		CommonModule,
		LanguagesRoutingModule
	]
})
export class LanguagesModule { }</code
>

</div>


<div class='codeblock'>

<p>Vue (TypeScript) - Languages.ts</p>
<code class='javascript'
>// <a href='https://class-component.vuejs.org/'>follow progress on class based components</a>
// right now the documentation seems out of date
// and fragmented</code
>

<p>Languages.vue</p>
<code class='html'
>&lt;template&gt;
	&lt;Timeline
		:title='timelineTitle'
		:entries='timelineEntries'
		sortBy='name'
	/&gt;
&lt;/template&gt;

&lt;script src='./Languages.ts' lang='ts'&gt;&lt;/script&gt;</code
>

</div>

<div class='codeblock'>

<p>Vue (JavaScript) - Languages.js</p>
<code class='javascript'
>// import the component,
// even though we will not reference it from JavaScript!
import Timeline from './Timeline.vue'

export default {
	name: 'Languages',
	components: {
		Timeline
	},
	data() {
		return {
			timelineTitle: 'Programming languages',
			timelineEntries: [
				{ name: 'Fortran', year: 1957 },
				{ name: 'Lisp', year: 1958 },
				{ name: 'Algol', year: 1958 },
				{ name: 'Cobol', year: 1959 },
				{ name: 'Simula', year: 1962 },
				{ name: 'Basic', year: 1964 },
				{ name: 'Pascal', year: 1970 },
				{ name: 'C', year: 1972 },
				{ name: 'Smalltalk 72', year: 1972 },
				{ name: 'Ada', year: 1980 },
				{ name: 'Smalltalk 80', year: 1980 },
				{ name: 'Objective-C', year: 1984 },
				{ name: 'C++', year: 1985 },
				{ name: 'Object Pascal', year: 1986 },
				{ name: 'Erlang', year: 1986 },
				{ name: 'Python', year: 1990 },
				{ name: 'Haskell', year: 1990 },
				{ name: 'Java', year: 1995 },
				{ name: 'JavaScript', year: 1995 },
				{ name: 'Php', year: 1995 },
				{ name: 'Ruby', year: 1995 },
				{ name: 'ActionScript', year: 1998 },
				{ name: 'Visual Basic 6', year: 1998 },
				{ name: 'C#', year: 2000 },
				{ name: 'F#', year: 2005 },
				{ name: 'Go', year: 2009 },
				{ name: 'Rust', year: 2010 },
				{ name: 'Kotlin', year: 2011 },
				{ name: 'Dart', year: 2011 },
				{ name: 'TypeScript', year: 2012 },
				{ name: 'Swift', year: 2014 }
			]
		}
	},
	created() {
		document.title = 'Languages';
	}
}</code
>

<p>Languages.vue</p>
<code class='html'
>&lt;template&gt;
	&lt;Timeline
		:title='timelineTitle'
		:entries='timelineEntries'
		sortBy='name'
	/&gt;
&lt;/template&gt;

&lt;script src='./Languages.js'&gt;&lt;/script&gt;</code
>

</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	Angular cleanly separates concers here, and the boilerplate parts of configuring the dependencies in the module are done automatically by the CLI.
</p>

<p>
	React is pretty clean and straightforward in this simple example, but again, putting both the logic and the view in a single file proves to be hard to manage when your code grows.
	Separating the rendering portion is not a common practice in React, and would mean more varibles passing in function calls.
</p>

<p>
	Vue seems to make things more confusing.
	Custom tags centric frameworks such as .Net Web Forms or JSP imported new tags in the markup if needed, which is were they would be used anyway.
	But Vue moves this to the code portion, where there’s no mention of it.
	To make matters worse, the .vue file lists the markup first, and the code later.
	Maybe we can change the order, but that is not what the examples in the official documentation do.
	This makes a tiny more sense if everything is crammed up in a single file, but again, I don’t believe that is a good practice either.
</p>

</section>



<section>

<h2 id='statemanagement'>Use state management (redux like)</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>

<p>React (JavaScript)</p>
<code class='shell'
></code
>

<p>languageSlice.js</p>
<code class='javascript'
>import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';

// for async operations such as an http request
// redux gives us a helper called createAsyncThunk
// that emits events during the execution and
// play nice with reducers (applicaton state mutators)

const languageReduxSliceKey = 'language';

export const languageAsyncThunk = createAsyncThunk(

	`${languageReduxSliceKey}/get`,

	async (payload) => {

		const response = await new Promise((resolve, reject) => {
			resolve({
				title: 'some title',
				description: 'some description'
			});
		});

		return response;

	}

);

// redux also gives us a helper called createSlice, that simplifies
// operating on a branch (or slice) of the application state tree
const languageSlice = createSlice({

	name: languageReduxSliceKey,

	initialState: {
		status: 'idle',
		title: '',
		description: ''
	},

	// the regular (non thunk event) reducers are registered here
	reducers: {
	},

	// the thunk event reducers are registered here
	extraReducers: builder => {
		builder
			.addCase(languageAsyncThunk.pending, (state, action) => {
				state.status = 'loading';
			})
			.addCase(languageAsyncThunk.fulfilled, (state, action) => {
				const payload = action.payload;
				state.title = payload.title;
				state.description = payload.description;
				state.status = 'idle';
			})
			.addCase(languageAsyncThunk.rejected, (state, action) => {
				state.status = 'error';
			});
	}

});

// we export all reducers like this
export default languageSlice.reducer;

// and the selectors for the branch (or slice)
// of the applicaton state tree like this
export const selectLanguage = state => state[languageReduxSliceKey];</code
>

<p>store.js</p>
<code class='javascript'
>import { configureStore } from '@reduxjs/toolkit';
import languageReducer from '../features/languages/languageSlice';

export default configureStore({
	reducer: {
		language: languageReducer
	},
});</code
>

<p>Language.jsx</p>
<code class='javascript'
>// redux
import { useSelector, useDispatch } from 'react-redux';
import { languageAsyncThunk, selectLanguage } from '../languageSlice';

export default function Language(props) {

	// read the current redux tree state branch

	const language = useSelector(selectLanguage);
	let languageTitle = language.title ?? '';
	let languageDescription = language.description ?? '';

	// push a new state for a branch

	const dispatch = useDispatch();

	async function loadLanguage(language) {

		const resultAction = await dispatch(languageAsyncThunk({
			language: language
		}));

		if (languageAsyncThunk.fulfilled.match(resultAction)) {
			languageTitle = language.title;
			languageDescription = language.description;
		} else {
			// resultAction.payload
			// resultAction.error
		}

	}

	loadLanguage('JavaScript'); // TODO check a flag to prevent multiple calls

	// render the current state

	return (
		&lt;&gt;
			{languageTitle}
			{languageDescription}
		&lt;/&gt;
	);

}

// https://redux.js.org/recipes/implementing-undo-history</code
>

</div>


<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vue (JavaScript)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>


<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>


</div>

<p>
	A
</p>

</section>



<section>

<h2 id='forms'>Forms</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
>// https://flutter.dev/docs/cookbook/forms/validation</code
>
</div>

<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>React (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
>// https://angular.io/guide/reactive-forms</code
>
</div>

<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vue (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>

</div>

<p>
	A
</p>

</section>



<section>

<h2 id='focus'>Focus management</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
>// https://api.flutter.dev/flutter/widgets/Focus-class.html
// https://flutter.dev/docs/cookbook/forms/focus</code
>
</div>

<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>React (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
>// https://angular.io/guide/reactive-forms</code
>
</div>

<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vue (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>

</div>

<p>
	A
</p>

</section>



<!--
<section>

<h2 id=''>A</h2>

<div class='comparison'>

<div class='codeblock'>
<p>Flutter (Dart)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>React (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>React (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Angular (TypeScript) <abbr title='Command line interface'>CLI</abbr></p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vue (TypeScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vue (JavaScript)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Blazor (C#)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Yew (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Seed (Rust)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Vugu (Go)</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Kotlin/JS</p>
<code class='shell'
></code
>
</div>

<div class='codeblock'>
<p>Web Components</p>
<code class='shell'
></code
>
</div>

</div>

<p>
	A
</p>

</section>
-->

<!--
clipboard
voice
indexeddb
pwa support
https://docs.microsoft.com/en-us/aspnet/core/blazor/components/event-handling?view=aspnetcore-5.0#focus-an-element

bases
https://en.wikipedia.org/wiki/Superior_highly_composite_number

6   senary ("seximal")
12  duodecimal ("dozenal") rotated digit two and reversed or rotated digit three for 11 and 12
60  sexagesimal
120 ?
360 no name / degrees

-->



<script type='module' src='../../compartilhado/js/utils.js'></script>
<script type='module' src='../../compartilhado/js/index.js'></script>
<script type='module' src='../../compartilhado/js/highlighter.js'></script>
<script type='module' src='../../compartilhado/js/highlightEnhancer.js'></script>
<script type='module' src='js/home.js'></script>

</body>
</html>